@use 'sass:string';
@use 'sass:math';
@use 'styles/utilities';

// TODO: Move to exports.module.scss
$colors: ('primary', 'secondary', 'tertiary', 'accent');

.controls {
    width: 100%;
    display: grid;
    grid-template-columns: max-content auto;
    gap: var(--line-height) 2ch;

    @media (max-width: utilities.$small-width) {
        display: block;
    }

    .spacer {
        margin-bottom: calc(var(--line-height) * 3);
    }

    .label {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        height: calc(var(--line-height) + 6px);
        color: var(--primary);

        @media (max-width: utilities.$small-width) {
            justify-content: flex-start;
            margin-bottom: var(--line-height);

            &:not(:nth-of-type(3)) {
                margin-top: calc(var(--line-height) * 2);
            }
        }
    }

    .group {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 2ch;

        &[data-dark-theme=''],
        &[data-light-theme=''] {
            color: transparent;
        }

        @media (max-width: utilities.$small-width) {
            display: block;
            overflow: hidden;
            // align-items: unset;
        }

        .colors {
            display: flex;
            height: 100%;
            width: 100%;
            gap: 2ch;

            @media (max-width: utilities.$small-width) {
                margin-top: var(--line-height);
                padding-bottom: var(--line-height);
                overflow: overlay;

                // height: unset;
                // flex-direction: column;
            }

            .color-group {
                flex: 1;
                display: flex;
                flex-direction: column;

                @media (max-width: utilities.$small-width) {
                    display: block;
                    // flex-direction: row;
                }

                .color-label {
                    color: var(--primary);
                    padding: var(--offset) 0px;
                    text-align: center;

                    @media (max-width: utilities.$small-width) {
                        // width: 10ch;
                        // text-align: left;
                        padding: 0px;
                        margin-bottom: var(--line-height);
                    }
                }

                .color-block {
                    display: grid;
                    align-items: center;
                    height: 100%;
                    color: var(--toggle-background-color);
                    background-color: var(--primary-20);
                    transition: all var(--prefers-color-scheme-transition-speed)
                        ease-in-out;

                    @media (max-width: utilities.$small-width) {
                        height: calc(var(--line-height) * 4);
                        // flex: 2;
                    }

                    @each $color in $colors {
                        &.#{$color} {
                            background-color: var(
                                --toggle-#{$color},
                                var(--primary-20)
                            );

                            .color-text {
                                .hex {
                                    &::after {
                                        content: var(--toggle-#{$color}-string);
                                    }
                                }
                            }
                        }
                    }

                    .color-text {
                        text-align: center;

                        .hex {
                            position: relative;
                            text-align: center;

                            .placeholder {
                                color: transparent;
                            }

                            &::after {
                                content: '';
                                position: absolute;
                                top: 0px;
                                left: 0px;
                                width: 100%;
                                height: 100%;
                            }
                        }
                    }
                }
            }
        }

        .font-example {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
            padding: var(--line-height) 4ch;

            p {
                text-align: left;

                &.right {
                    text-align: right;
                }
            }

            p:last-child {
                margin: 0px;
            }
        }
    }
}

.reset-btn-ctr {
    margin-top: calc(var(--line-height) * 3);
    text-align: center;

    .reset {
        cursor: pointer;
        border: none;
        background-color: transparent;
        color: var(--primary);
    }
}
