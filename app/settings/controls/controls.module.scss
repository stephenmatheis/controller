@use 'sass:string';
@use 'sass:math';

// TODO: Move to exports.module.scss
$colors: ('primary', 'secondary', 'tertiary', 'accent');

.controls {
    width: 100%;
    display: grid;
    grid-template-columns: max-content auto;
    gap: var(--line-height) 2ch;

    .label {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        height: calc(var(--line-height) + 6px);
        color: var(--primary);
    }

    .group {
        display: flex;
        align-items: center;
        gap: 2ch;

        &[data-dark-theme=''],
        &[data-light-theme=''] {
            color: transparent;
        }

        .colors {
            display: grid;
            grid-template-columns: auto auto auto auto;
            grid-template-rows: min-content auto;
            grid-template-columns: repeat(4, 1fr);
            gap: 1ch;
            height: 100%;
            width: 100%;
            text-align: center;

            .color-label {
                color: var(--primary);
            }

            .color-block {
                display: grid;
                align-items: center;
                color: var(--toggle-background-color);
                background-color: var(--primary-20);
                transition: all var(--prefers-color-scheme-transition-speed)
                    ease-in-out;

                @each $color in $colors {
                    &.#{$color} {
                        background-color: var(
                            --toggle-#{$color},
                            var(--primary-20)
                        );

                        .color-text {
                            .hex {
                                &::after {
                                    content: var(--toggle-#{$color}-string);
                                }
                            }
                        }
                    }
                }

                .color-text {
                    text-align: center;

                    .hex {
                        position: relative;
                        text-align: center;

                        .placeholder {
                            color: transparent;
                        }

                        &::after {
                            content: '';
                            position: absolute;
                            top: 0px;
                            left: 0px;
                            width: 100%;
                            height: 100%;
                        }
                    }
                }
            }
        }
    }
}

.reset-btn-ctr {
    margin-top: calc(var(--line-height) * 3);
    text-align: center;

    .reset {
        cursor: pointer;
        border: none;
        background-color: transparent;
        color: var(--primary);
    }
}
